<div class="idea-details" *ngIf="cardData">
  <!-- Idea Header -->
  <div class="idea-header mb-4">
    <div class="d-flex justify-content-between align-items-start">
      <div class="flex-grow-1">
        <h4 class="mb-2 d-flex align-items-center gap-2">
          <span *ngIf="mySpace"
            class="status-dot"
            [ngStyle]="{ 'background-color': getStatusColor(cardData.idea_details.status) }">
          </span>
          {{ cardData.idea_details.title }}
        </h4>
        <p class="text-muted mb-1">By {{ cardData.user_details.name }}</p>
        <small class="text-muted">Created: {{ cardData.idea_details.created_at | date:'mediumDate' }}</small>
      </div>
    </div>
  </div>

  <!-- Idea Subject -->
  <div class="idea-subject mb-4">
    <!-- <h6>Subject</h6> -->
    <p class="subject-text">{{ cardData.idea_details.subject }}</p>
  </div>

  <!-- Idea Description -->
  <div class="idea-description mb-4">
    <!-- <h6>Description</h6> -->
    <p>{{ cardData.idea_details.refine_content || cardData.idea_details.content}}</p>
  </div>

  <!-- Tags with Tooltip -->
  <div class="idea-tags mb-4" *ngIf="cardData.idea_details?.tags_list?.length">
  <!-- <h6>Tags</h6> -->
  <div #measureWidth class="tags-container d-flex flex-wrap gap-2">
    <span *ngFor="let tag of visibleTags"
      class="badge bg-secondary scroll-tag"
      [attr.title]="tag.description || 'No description available'">
      {{ tag.name }}
    </span>
    <button *ngIf="shouldShowMoreButton" 
              id="more-tags-btn" 
              (click)="showMoreTags()">
        +{{ hiddenTagsCount }} more
    </button>
  </div>
</div>
<div>
<app-comments
      *ngIf="isCommentsVisible"
      [card]="cardData"
      [all_comment]="all_comment_cards"
      [currentUserId]="currentUserId"
      (commentPosted)="get_all_comments()">
</app-comments>
</div>
</div>