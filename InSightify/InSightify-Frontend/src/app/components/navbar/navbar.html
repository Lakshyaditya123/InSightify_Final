<nav class="navbar navbar-expand-lg navbar-dark custom-navbar">
  <div class="container-fluid">
    <a (click)="navigateToHome()" class="navbar-brand d-flex align-items-center" style="cursor: pointer;">
      <img src="assets/Heading.png" alt="Logo" width="80" class="me-2 nav-img" />
    </a>
    <div class="flex-grow-1"></div>

    <div class="search-container me-3">
      <div class="search-pill">
        <input class="search-input" type="search" placeholder="Search ideas..." aria-label="Search" />
        <button class="search-button" type="submit">
          <i class="bi bi-search"></i>
        </button>
      </div>
    </div>

    <!-- Profile section with dropdown -->
    <div class="profile-section dropdown" (click)="toggleDropdown($event)">
      <button class="btn btn-outline-light rounded-circle profile-btn">
        <i class="bi bi-person-circle"></i>
      </button>

      <!-- Dropdown Menu -->
      <div class="dropdown-menu" [class.show]="isDropdownOpen">
        <a class="dropdown-item" (click)="openProfilePanel()">
          <i class="bi bi-person-badge-fill"></i> User Profile
        </a>
        <div class="dropdown-divider"></div>
        <a class="dropdown-item logout" (click)="logout()">
          <i class="bi bi-box-arrow-right"></i> Logout
        </a>
      </div>
    </div>
  </div>
</nav>

<!-- User Profile Side Panel Component -->
<!-- It is only rendered when isProfilePanelOpen is true -->
<app-user-profile *ngIf="isProfilePanelOpen" (closeProfile)="closeProfilePanel()"></app-user-profile>
