<div class="idea-details" *ngIf="cardData">
  <div class="idea-header mb-4">
    <div class="d-flex justify-content-between align-items-start">
      <div class="flex-grow-1">
        <h4 class="mb-2">{{ cardData.merged_idea_details.title }}</h4>
        <p class="text-muted mb-1">Merged Idea</p>
        <small class="text-muted">Created: {{ cardData.merged_idea_details.created_at | date:'mediumDate' }}</small>
      </div>
    </div>
  </div>

  <div class="idea-subject mb-4">
    <p class="subject-text">{{ cardData.merged_idea_details.subject }}</p>
  </div>

  <div class="idea-description mb-4">
    <p>{{ cardData.merged_idea_details.content }}</p>
  </div>

  <div class="idea-tags mb-4" *ngIf="cardData.merged_idea_details?.tags_list?.length">
    <div class="tags-container d-flex flex-wrap gap-2">
      <span *ngFor="let tag of cardData.merged_idea_details.tags_list"
        class="badge bg-secondary"
        [attr.title]="tag.description || 'No description available'">
        {{ tag.name }}
      </span>
    </div>
  </div>

  <div>
    <div #scrollToComments></div>
    <app-comments
      *ngIf="isCommentsVisible"
      [card]="cardData"
      [all_comment]="all_comment_cards"
      [currentUserId]="currentUserId"
      (commentPosted)="get_all_comments()">
    </app-comments>
  </div>
</div>